# lovelace_gen
title: Media
id: media
icon: mdi:plex
# background: var(--background-image)
cards:
  - type: vertical-stack
    cards:
      - type: picture-entity
        entity: sensor.tautulli
        show_name: false
        image: /local/media/plex-logo.png?v=2
      - type: vertical-stack
        cards:
          - type: media-control
            entity: media_player.plex_plexamp_hifipi
            name: hifipi (Plexamp)
          - type: markdown
            content: "### Playlists"
          - type: custom:auto-entities
            show_empty: False
            filter:
              include:
                - entity_id: "script.hifipi_play_*"
                  options:
                    tap_action:
                      action: toggle
            sort:
              method: name
            card:
              type: glance
              show_header_toggle: false
              show_state: false
              show_name: false
      - type: conditional
        conditions:
          - entity: media_player.plex_plex_web_chrome
            state_not: "unavailable"
        card:
          type: custom:mini-media-player
          entity: media_player.plex_plex_web_chrome
          icon: mdi:plex
          artwork: cover
          source: icon
      - type: conditional
        conditions:
          - entity: media_player.plex_plex_for_alexa_alexa
            state_not: "unavailable"
        card:
          type: custom:mini-media-player
          entity: media_player.plex_plex_for_alexa_alexa
          icon: mdi:plex
          artwork: cover
          source: icon

      - type: custom:vertical-stack-in-card
        cards:
          - type: markdown
            content: "### Monitor"
          - type: horizontal-stack
            cards:
              - type: sensor
                entity: sensor.plex_lan_bandwidth
                name: LAN
                graph: none
              - type: sensor
                entity: sensor.plex_wan_bandwidth
                name: WAN
                graph: none
          - type: history-graph
            hours_to_show: 6
            refresh_interval: 30
            entities:
              - sensor.plex_lan_bandwidth
              - sensor.plex_wan_bandwidth