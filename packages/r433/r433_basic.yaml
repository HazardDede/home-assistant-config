rest_command:
  # Required parameter:
  # - device_name
  r433_switch_on:
    url: 'http://localhost:5555/devices/{{device_name}}/on'
    method: get
  r433_switch_off:
    url: 'http://localhost:5555/devices/{{device_name}}/off'
    method: get

script:
  # Required parameter: 
  # - device_name
  r433_switch_on:
    sequence:
      - service: rest_command.r433_switch_on
        data_template:
          device_name: "{{device_name}}"
      - service: mqtt.publish
        data_template:
          topic: "r433/{{device_name}}/switch"
          payload: "on"
          retain: True
  # Required parameter: 
  # - device_name
  r433_switch_off:
    sequence:
      - service: rest_command.r433_switch_off
        data_template:
          device_name: "{{device_name}}"
      - service: mqtt.publish
        data_template:
          topic: "r433/{{device_name}}/switch"
          payload: "off"
          retain: True
